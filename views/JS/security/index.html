<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web security | code</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="shortcut icon " type="images/x-icon" href="/code/logo/favicon.ico">
    <link rel="manifest" href="/code/manifest.json">
    <link rel="alternate" type="application/atom+xml" href="https://x-vic.gitee.io/code/code/atom.xml" title="code Atom Feed">
    <link rel="alternate" type="application/json" href="https://x-vic.gitee.io/code/code/feed.json" title="code JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://x-vic.gitee.io/code/code/rss.xml" title="code RSS Feed">
    <meta name="description" content="code">
    <meta property="og:url" content="/code/views/JS/security.html">
    <meta property="og:site_name" content="code">
    <meta property="og:title" content="web security">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="code">
    <meta property="article:author" content="Vic">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="theme-color" content="#46bd87">
    <link rel="preload" href="/code/assets/css/0.styles.67714b8d.css" as="style"><link rel="preload" href="/code/assets/js/app.cd091824.js" as="script"><link rel="preload" href="/code/assets/js/vendors~layout-Layout.13eb65c3.js" as="script"><link rel="preload" href="/code/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.23eefbfa.js" as="script"><link rel="preload" href="/code/assets/js/page-websecurity.760142d3.js" as="script"><link rel="preload" href="/code/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.669dde6c.js" as="script"><link rel="prefetch" href="/code/assets/js/54.951486eb.js"><link rel="prefetch" href="/code/assets/js/layout-Blog.79fecb33.js"><link rel="prefetch" href="/code/assets/js/layout-Layout.54347a9b.js"><link rel="prefetch" href="/code/assets/js/layout-NotFound.91295a17.js"><link rel="prefetch" href="/code/assets/js/layout-Slide.5a6041af.js"><link rel="prefetch" href="/code/assets/js/page-Blob.2a90aab7.js"><link rel="prefetch" href="/code/assets/js/page-ConcurrentModefiber.2b6413dc.js"><link rel="prefetch" href="/code/assets/js/page-Observable.71578566.js"><link rel="prefetch" href="/code/assets/js/page-TS奇怪的符号.322d113b.js"><link rel="prefetch" href="/code/assets/js/page-applicative.f65d224b.js"><link rel="prefetch" href="/code/assets/js/page-createAppmount.e16821e7.js"><link rel="prefetch" href="/code/assets/js/page-createElementrender.87d0b867.js"><link rel="prefetch" href="/code/assets/js/page-effect.7f3bda69.js"><link rel="prefetch" href="/code/assets/js/page-handlers.a1c45178.js"><link rel="prefetch" href="/code/assets/js/page-koa.020db307.js"><link rel="prefetch" href="/code/assets/js/page-monad.73fe5993.js"><link rel="prefetch" href="/code/assets/js/page-react-redux.ed5c2ef1.js"><link rel="prefetch" href="/code/assets/js/page-reactive.d77dfdfa.js"><link rel="prefetch" href="/code/assets/js/page-reactiveeffect.7e627b9a.js"><link rel="prefetch" href="/code/assets/js/page-reconciliation.1b422c33.js"><link rel="prefetch" href="/code/assets/js/page-redux-observable源码解读.a0abdf8c.js"><link rel="prefetch" href="/code/assets/js/page-redux.bff25318.js"><link rel="prefetch" href="/code/assets/js/page-rendercommit.d6a20981.js"><link rel="prefetch" href="/code/assets/js/page-rxjs-hooks源码解读.deafab22.js"><link rel="prefetch" href="/code/assets/js/page-useState.f90e9512.js"><link rel="prefetch" href="/code/assets/js/page-webpack.78cc7409.js"><link rel="prefetch" href="/code/assets/js/page-二分搜索.3940642e.js"><link rel="prefetch" href="/code/assets/js/page-二叉树.497b5e04.js"><link rel="prefetch" href="/code/assets/js/page-函子.3e79f14a.js"><link rel="prefetch" href="/code/assets/js/page-函子之间的转换.6c0a4381.js"><link rel="prefetch" href="/code/assets/js/page-函数式编程.02cdc424.js"><link rel="prefetch" href="/code/assets/js/page-函数的组合.f965bce8.js"><link rel="prefetch" href="/code/assets/js/page-函数组件.9a9ea99b.js"><link rel="prefetch" href="/code/assets/js/page-函数输入处理.83c87a99.js"><link rel="prefetch" href="/code/assets/js/page-动态规划.a757095c.js"><link rel="prefetch" href="/code/assets/js/page-哈希表.51f45fff.js"><link rel="prefetch" href="/code/assets/js/page-回溯法.51621a8b.js"><link rel="prefetch" href="/code/assets/js/page-堆.4c55599f.js"><link rel="prefetch" href="/code/assets/js/page-并查集.7f80419e.js"><link rel="prefetch" href="/code/assets/js/page-快速排序.6f7f01df.js"><link rel="prefetch" href="/code/assets/js/page-文件上传.ddb7b5a3.js"><link rel="prefetch" href="/code/assets/js/page-深搜与广搜.442ff298.js"><link rel="prefetch" href="/code/assets/js/page-组件渲染的细节.b51c5b91.js"><link rel="prefetch" href="/code/assets/js/page-递归与栈.472efcad.js"><link rel="prefetch" href="/code/assets/js/page-链表.869cf4a6.js"><link rel="prefetch" href="/code/assets/js/page-队列.4b92df21.js"><link rel="prefetch" href="/code/assets/js/page-首页.61d370c1.js"><link rel="prefetch" href="/code/assets/js/vendors~photo-swipe.71d5b571.js"><link rel="prefetch" href="/code/assets/js/vendors~valine.d287ee9c.js">
    <link rel="stylesheet" href="/code/assets/css/0.styles.67714b8d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/code/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">code</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title"><!---->
        源码
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>vue</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/views/vue-next/reactive.html" class="nav-link"><!---->
  vue-next
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>others</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/views/others/redux-observable.html" class="nav-link"><!---->
  others
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="简单实现" class="dropdown-title"><span class="title"><!---->
        简单实现
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/views/owner-react/" class="nav-link"><!---->
  react
</a></li><li class="dropdown-item"><a href="/code/views/owner-vue-next/" class="nav-link"><!---->
  vue next
</a></li><li class="dropdown-item"><a href="/code/views/owner-koa/" class="nav-link"><!---->
  koa
</a></li><li class="dropdown-item"><a href="/code/views/owner-redux/" class="nav-link"><!---->
  redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title"><!---->
        进阶
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/views/JS/" class="nav-link router-link-active active"><!---->
  前端
</a></li><li class="dropdown-item"><a href="/code/views/functional/" class="nav-link"><!---->
  函数式编程
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title"><!---->
        算法
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/views/algorithm/" class="nav-link"><!---->
  船长
</a></li><li class="dropdown-item"><a href="/code/views/leetcode/" class="nav-link"><!---->
  不系之舟
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title"><!---->
      源码
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>vue</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/views/vue-next/reactive.html" class="nav-link"><!---->
  vue-next
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>others</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/views/others/redux-observable.html" class="nav-link"><!---->
  others
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="简单实现" class="dropdown-title"><span class="title"><!---->
      简单实现
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/views/owner-react/" class="nav-link"><!---->
  react
</a></li><li class="dropdown-item"><!----> <a href="/code/views/owner-vue-next/" class="nav-link"><!---->
  vue next
</a></li><li class="dropdown-item"><!----> <a href="/code/views/owner-koa/" class="nav-link"><!---->
  koa
</a></li><li class="dropdown-item"><!----> <a href="/code/views/owner-redux/" class="nav-link"><!---->
  redux
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title"><!---->
      进阶
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/views/JS/" class="nav-link router-link-active active"><!---->
  前端
</a></li><li class="dropdown-item"><!----> <a href="/code/views/functional/" class="nav-link"><!---->
  函数式编程
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title"><!---->
      算法
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/views/algorithm/" class="nav-link"><!---->
  船长
</a></li><li class="dropdown-item"><!----> <a href="/code/views/leetcode/" class="nav-link"><!---->
  不系之舟
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/views/JS/" aria-current="page" class="sidebar-link">Blob</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/#blob-是什么" class="sidebar-link">Blob 是什么</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#blob-api" class="sidebar-link">Blob Api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/#构造函数" class="sidebar-link heading3">构造函数</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#方法" class="sidebar-link heading3">方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/#blob-的使用场景" class="sidebar-link">Blob 的使用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/#分片上传" class="sidebar-link heading3">分片上传</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#从互联网下载数据" class="sidebar-link heading3">从互联网下载数据</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#blob-用作-url" class="sidebar-link heading3">Blob 用作 URL</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#blob-转换为-base64" class="sidebar-link heading3">Blob 转换为 Base64</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#图片压缩" class="sidebar-link heading3">图片压缩</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/#生成-pdf-文档" class="sidebar-link heading3">生成 PDF 文档</a></li></ul></li></ul></li><li><a href="/code/views/JS/upload/" class="sidebar-link">文件上传</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#请求端" class="sidebar-link">请求端</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#发送-formdata-请求的几种方式" class="sidebar-link heading3">发送 formData 请求的几种方式</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#blob" class="sidebar-link heading3">Blob</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#arraybuffer" class="sidebar-link heading3">ArrayBuffer</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#base64" class="sidebar-link heading3">Base64</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#服务端发送-formdata-请求" class="sidebar-link heading3">服务端发送 formData 请求</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/upload/#接收端" class="sidebar-link">接收端</a></li></ul></li><li><a href="/code/views/JS/security/" aria-current="page" class="active sidebar-link">web security</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/security/#xss" class="sidebar-link">xss</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/security/#反射型-xss-非持久" class="sidebar-link heading3">反射型 XSS （非持久）</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#存储型-xss" class="sidebar-link heading3">存储型 XSS</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#dom-based-xss" class="sidebar-link heading3">DOM based XSS</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#如何防御" class="sidebar-link heading3">如何防御</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#csrf" class="sidebar-link">csrf</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/security/#攻击过程" class="sidebar-link heading3">攻击过程</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#如何防御-2" class="sidebar-link heading3">如何防御</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/security/#https" class="sidebar-link">https</a></li></ul></li><li><a href="/code/views/JS/webpack/" class="sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#loader" class="sidebar-link">loader</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#同步-loader" class="sidebar-link heading3">同步 loader</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#异步-loader" class="sidebar-link heading3">异步 loader</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#一个简单的-md-loader-示例" class="sidebar-link heading3">一个简单的 md-loader 示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#插件" class="sidebar-link">插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#插件结构" class="sidebar-link heading3">插件结构</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#构建流程" class="sidebar-link heading3">构建流程</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#compiler-与-compilation" class="sidebar-link heading3">compiler 与 compilation</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/webpack/#简单实现打包器" class="sidebar-link">简单实现打包器</a></li></ul></li><li><a href="/code/views/JS/ts/" class="sidebar-link">TS 奇怪的符号</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#非空断言" class="sidebar-link">!非空断言</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#" class="sidebar-link">?.</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#空值合并运算符" class="sidebar-link">?? 空值合并运算符</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#可选属性" class="sidebar-link">?: 可选属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#工具类型" class="sidebar-link heading3">工具类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#运算符" class="sidebar-link">&amp; 运算符</a></li><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#分隔符" class="sidebar-link">| 分隔符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/views/JS/ts/#类型保护" class="sidebar-link heading3">类型保护</a></li></ul></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/code/views/JS/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">Blob</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/code/views/JS/security/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">web security</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">web security</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Vic</span></span><span aria-label="Page views🔢" data-balloon-pos="down" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/code/views/JS/security/" data-flag-title="web security" class="leancloud_visitors"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-6-29</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 3 min</span> <meta property="timeRequired" content="PT3M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/code/views/JS/security/#xss" class="anchor-link heading2"><div>xss</div></a></li><li class="anchor"><a href="/code/views/JS/security/#反射型-xss-非持久" class="anchor-link heading3"><div>反射型 XSS （非持久）</div></a></li><li class="anchor"><a href="/code/views/JS/security/#存储型-xss" class="anchor-link heading3"><div>存储型 XSS</div></a></li><li class="anchor"><a href="/code/views/JS/security/#dom-based-xss" class="anchor-link heading3"><div>DOM based XSS</div></a></li><li class="anchor"><a href="/code/views/JS/security/#如何防御" class="anchor-link heading3"><div>如何防御</div></a></li><li class="anchor"><a href="/code/views/JS/security/#csrf" class="anchor-link heading2"><div>csrf</div></a></li><li class="anchor"><a href="/code/views/JS/security/#攻击过程" class="anchor-link heading3"><div>攻击过程</div></a></li><li class="anchor"><a href="/code/views/JS/security/#如何防御-2" class="anchor-link heading3"><div>如何防御</div></a></li><li class="anchor"><a href="/code/views/JS/security/#https" class="anchor-link heading2"><div>https</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="xss"><a href="#xss" class="header-anchor">#</a> xss</h2> <p>跨站脚本攻击,英文全称是Cross Site Script，本来缩写是CSS,但是为了和层叠样式表(Cascading Style Sheet, CSS)有所区别,所以在安全领域叫做&quot;XSS&quot;。</p> <p><strong>XSS攻击,通常是指黑客通过&quot;HTML注入&quot;篡改了网页，插入了恶意的脚本，从而在用户浏览网页时，控制用户浏览器的一种攻击</strong>。在一开始，这种攻击的演示案例是跨域的，所以叫做&quot;跨站脚本&quot;。但是发展到今天。是否跨域已经不再重要。</p> <h3 id="反射型-xss-非持久"><a href="#反射型-xss-非持久" class="header-anchor">#</a> 反射型 XSS （非持久）</h3> <p>反射型 XSS 只是简单地把用户输入的数据&quot;反射&quot;给浏览器。也就是说，黑客往往需要诱使用户&quot;点击&quot;一个恶意链接，才能攻击成功。反射型 XSS 也叫做&quot;非持久&quot;。</p> <h3 id="存储型-xss"><a href="#存储型-xss" class="header-anchor">#</a> 存储型 XSS</h3> <p>存储型 XSS 会把用户输入的数据&quot;存储&quot;在服务器端。这种XSS具有很强的稳定性。比较常见的一个场景就是，黑客写下一篇包含恶意JavaScript代码的博客文章，文章发表后，所有访问该博客的用户，都会在它们的浏览器中执行这段恶意的JavaScript代码。黑客把恶意的脚本保存到服务端。所以这种XSS攻击就叫做&quot;存储型 XSS&quot;。</p> <h3 id="dom-based-xss"><a href="#dom-based-xss" class="header-anchor">#</a> DOM based XSS</h3> <p>实际上，这种类型的XSS并非按照&quot;数据是否保存在服务器端&quot;来划分。DOM Based XSS从效果上来说也是反射型XSS。单独划分出来，是因为 DOM Based XSS 的形成原因比较特别。通过<strong>修改页面的DOM节点形成的 XSS</strong>，称之为 DOM Based XSS。</p> <h3 id="如何防御"><a href="#如何防御" class="header-anchor">#</a> 如何防御</h3> <ol><li>对输入内容的特定字符进行编码，例如：&quot;&lt;&gt;&quot;等</li> <li>对重要的 cookie 设置 httpOnly</li> <li>将不可信的值输出 URL参数之前，进行 URLEncode 操作，而对于从 URL参数中获取值一定要进行格式检测。</li></ol> <p>举个攻击的例子：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>// $input 会将 url 中的 param 参数读取出来作为 div 的内容。
// http://www.a.com/test.php?param=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xss</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 用户这般输入就造成 XSS 攻击了
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> 
  <span class="token variable">$input</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;param&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;&lt;div&gt;&quot;</span><span class="token operator">.</span><span class="token variable">$input</span><span class="token operator">.</span><span class="token string double-quoted-string">&quot;&lt;/div&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="csrf"><a href="#csrf" class="header-anchor">#</a> csrf</h2> <p>CSRF 英文全称是 Cross-site request forgery，又称为“跨站请求伪造”。<br>
顾名思义，CSRF 攻击就是黑客引诱用户打开黑客的网站，利用用户的登陆状态发起跨站请求。</p> <h3 id="攻击过程"><a href="#攻击过程" class="header-anchor">#</a> 攻击过程</h3> <ol><li>用户登陆 A 网站（此时浏览器已经存有 A 网站用户信息的 cookie）</li> <li>再不关闭 A 网站的情况下，新开标签页访问黑客网站</li> <li>黑客网站发送向 A 网站的请求（该请求会自动带上用户信息，而服务器无法知道这是个恶意请求）</li></ol> <h3 id="如何防御-2"><a href="#如何防御-2" class="header-anchor">#</a> 如何防御</h3> <ol><li>对每个请求都设置一个 token,尤其是 post, delete 等危险 method</li> <li>检查 reffer，检测链接访问来源</li> <li>使用 X-iframe-options 头部控制别的网站用 iframe 嵌入你的内容</li></ol> <h2 id="https"><a href="#https" class="header-anchor">#</a> https</h2> <p>https 对内容加/解密使用对称加密算法。<br>
对称加密的密码使用非对称加密进行加密传输（公钥加密，私钥解密）。<br>
这样既保证了安全性，又兼顾了编/解码内容的效率。</p> <p>对称加密密钥的传输：</p> <ol><li>Client 发送 random1+对称加密套件列表+非对称加密套件列表</li> <li>Server 收到信息， 选择 对称加密套件+非对称加密套件 并和 random2+证书(公钥在证书中) 一起返回</li> <li>Client 验证证书有效性，并用 random1+random2 生成 pre-master 通过服务器公钥加密+浏览器确认 发送给 Server</li> <li>Server 收到 pre-master，根据约定的加密算法对 random1+random2+pre-master（解密）生成 master-secret，然后发送服务器确认</li> <li>Client 收到生成同样的 master-secert，对称<strong>加密秘钥</strong>传输完毕</li></ol> <p>HTTPS 在 TCP 和 HTTP 中间加入了 SSL/TLS 安全层。</p> <p>对发起 HTTP 请求的数据进行加密操作
对接收到 HTTP 的内容进行解密操作。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">June 29, 2021 08:42</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/code/views/JS/upload/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        文件上传
      </a></span> <span class="next"><a href="/code/views/JS/webpack/">
        webpack
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <div class="comments-wrapper"><div class="valine-wrapper"><div id="valine"></div></div></div> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/code/assets/js/app.cd091824.js" defer></script><script src="/code/assets/js/vendors~layout-Layout.13eb65c3.js" defer></script><script src="/code/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.23eefbfa.js" defer></script><script src="/code/assets/js/page-websecurity.760142d3.js" defer></script><script src="/code/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.669dde6c.js" defer></script>
  </body>
</html>
